<template>
  <div class="patient-summary pl-4 pr-4">
    <div class="row">
      <div class="col-md-6">
        <div class="card tab-card">
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" class="mb-2">Patient Information</th>
                  <th scope="col" class="mb-2"><span class="txt-red">Last Encounter: 5 Jan 2021</span></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="font-weight-bold">Patient ID</td>
                  <td>46446478e</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Name</td>
                  <td>Jomila</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Guardian Name</td>
                  <td>Abdul Mannan</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Date Of Birth</td>
                  <td>14 November 1999</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Age</td>
                  <td>60 years</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Gender</td>
                  <td>Female</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Village</td>
                  <td>Chatuatli</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Union</td>
                  <td>Dhanbari</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Upazila</td>
                  <td>Dhanbari</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">District</td>
                  <td>Dhanbari</td>
                </tr>
                <tr>
                  <td class="text-right"><a href="javascript:void(0)" class="btn btn-primary">See Details</a></td>
                  <td class="text-center"><a href="javascript:void(0)" class="btn btn-primary">See History</a></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card tab-card">
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" colspan="2" class="mb-2">Risk Factors</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="font-weight-bold">10 year CVD risk score</td>
                  <td class="txt-red">30% to < 40%</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Smoking status</td>
                  <td class="txt-red">Yes</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Smokeless tobacco</td>
                  <td class="txt-red">Yes</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Diet: Additional salt: </td>
                  <td>Yes</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Diet: Sugar intake: </td>
                  <td>Yes</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Diet: Processed food / red meat:</td>
                  <td class="txt-grey">No</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Physical activity:</td>
                  <td class="txt-grey">Active</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Alcohol consumption:</td>
                  <td class="txt-grey">No</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Family history of hypertension or diabetes: </td>
                  <td>5 january 2021</td>
                </tr>
                <tr>
                  <td class="font-weight-bold">Last assessment:</td>
                  <td></td>
                </tr>
                <tr>
                  <td colspan="2" class="text-center"><a href="javascript:void(0)" class="btn btn-primary">See Details</a></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
         <div class="col-md-6">
        <div class="card tab-card">
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" colspan="2" class="mb-2">Disease history</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td > Diabetes mellitus:</td>
                  <td class="txt-grey">No</td>
                </tr>
                <tr>
                  <td >Hypertension:</td>
                  <td class="txt-red">Yes</td>
                </tr>
                <tr>
                  <td > Stroke:</td>
                  <td class="txt-grey">No</td>
                </tr>
                <tr>
                  <td > Heart attack:</td>
                  <td class="txt-grey">No</td>
                </tr>
                <tr>
                  <td > Asthma / COPD: </td>
                  <td class="txt-grey">Yes</td>
                </tr>
                <tr>
                  <td > Cancer: </td>
                  <td class="txt-grey">No</td>
                </tr>
                <tr>
                  <td > Chronic kidney disease: </td>
                  <td class="txt-grey">No</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>  
      
      <div class="col-md-6">
        <div class="card tab-card">
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" colspan="2" class="mb-2">Diagnosed conditions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td > Diabetes mellitus:</td>
                  <td class="txt-grey">No</td>
                </tr>
                <tr>
                  <td >  Hypertension::</td>
                  <td class="txt-red">Yess</td>
                </tr>
                
              </tbody>
            </table>
          </div>
        </div>
        <div class="card tab-card mt-1">
            <h4 class="custom-title pb-0">Medication:</h4>
          <div class="table-responsive">
           
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" class="mb-2">Type:</th>
                  <th scope="col" class="mb-2">Drug Name:</th>
                  <th scope="col" class="mb-2">Regular:</th>

                </tr>
              </thead>
              <tbody>
                <tr>
                  <td >Anti-hypertensives:</td>
                  <td >Propranolol</td>
                  <td >Yes</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- body measurements 
     -->
     <div class="row mb-3">
        <div class="col-md-6">
        <h4 class="custom-title font-weight-bold p-0">Body measurements:</h4>
        <div class="card tab-card mb-3"> 
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" class="mb-2">Measurement: </th>
                  <th scope="col" class="mb-2">Reading: </th>
                  <th scope="col" class="mb-2">Unit: </th>
                  <th scope="col" class="mb-2">Date: </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td > Blood pressure:</td>
                  <td>149 / 95</td>
                  <td>mmHg</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >Height:</td>
                  <td>164.5</td>
                  <td>cm</td>
                  <td>5 Mar 2021</td>
                </tr>

                <tr>
                  <td >Weight:</td>
                  <td>78.5</td>
                  <td>kg</td>
                  <td>5 Mar 2021</td>
                </tr>
                <tr>
                  <td >BMI:</td>
                  <td>23.1</td>
                  <td>kg/m2</td>
                  <td>5 Mar 2021</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <h4 class="custom-title font-weight-bold p-0">Investigations:</h4>
        <div class="card tab-card mb-3"> 
            <h4 class="custom-title font-weight-bold mb-0 pb-0">Blood Sugar</h4>
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" class="mb-2">Measurement: </th>
                  <th scope="col" class="mb-2">Reading: </th>
                  <th scope="col" class="mb-2">Unit: </th>
                  <th scope="col" class="mb-2">Date: </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td >Random blood sugar:</td>
                  <td>149 / 95</td>
                  <td>mmol/L</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >Fasting blood sugar:</td>
                  <td>164.5</td>
                  <td>mmol/L</td>
                  <td>5 Mar 2021</td>
                </tr>

                <tr>
                  <td >2HABF:</td>
                  <td>78.5</td>
                  <td>mmol/L</td>
                  <td>5 Mar 2021</td>
                </tr>
                <tr>
                  <td >HbA1c:</td>
                  <td>23.1</td>
                  <td>%</td>
                  <td>5 Mar 2021</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- urine  -->
        <div class="card tab-card"> 
        <h4 class="custom-title font-weight-bold mb-0 pb-0">Urine</h4>
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col"  class="mb-2">Measurement: </th>
                  <th scope="col"  class="mb-2">Reading: </th>
                  <th scope="col" class="mb-2">Unit: </th>
                  <th scope="col"  class="mb-2">Date: </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td >Urinary ketone:</td>
                  <td>14.5</td>
                  <td>mmol/L</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >Urinary protein:</td>
                  <td>N/A</td>
                  <td>mmol/L</td>
                  <td>5 Jan 2021</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>  
      
      <div class="col-md-6">
          <div class="card tab-card"> 
        <h4 class="custom-title font-weight-bold mb-0 pb-0">Blood test</h4>
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col"  class="mb-2">Measurement: </th>
                  <th scope="col"  class="mb-2">Reading: </th>
                  <th scope="col" class="mb-2">Unit: </th>
                  <th scope="col"  class="mb-2">Date: </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td >Serum cholesterol:</td>
                  <td>14.5</td>
                  <td>mg/dL</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >Triglycerides:</td>
                  <td>N/A</td>
                  <td>mg/dL</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >HDL:</td>
                  <td>N/A</td>
                  <td>mg/dL</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >LDL:</td>
                  <td>N/A</td>
                  <td>mg/dL</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >Serum Creatinine:</td>
                  <td>N/A</td>
                  <td>mg/dL</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >Serum Na+:</td>
                  <td>N/A</td>
                  <td>mg/dL</td>
                  <td>5 Jan 2021</td>
                </tr>
                <tr>
                  <td >Serum K+:</td>
                  <td>N/A</td>
                  <td>mg/dL</td>
                  <td>5 Jan 2021</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="text-center m-3" >
        <a href="javascript:void(0)" class="btn btn-primary">Update</a>
    </div>
    <div class="row mb-3">
        <div class="col-md-12">
          <div class="card tab-card mb-3"> 
          <div class="table-responsive">
            <table class="table table-borderless">
              <thead>
                <tr>
                  <th scope="col" colspan="2" class="mb-2">Complaints / Note </th>
                  <th scope="col"  class="mb-2 text-right"><a href="javascript:void(0)" class="btn btn-primary add-note"><i class="fa fa-plus"></i></a></th>
                </tr>
              </thead>
              <tbody>
                <tr class="td-border-bottom">
                  <td class="td-grey p-2">Patient has regular fever every month of 39oC</td>
                  <td class="td-grey p-2">Dr Ali Hussein</td>
                  <td class="td-grey p-2">1 Jan 2021</td>
                </tr>

                <tr>
                  <td class="td-grey p-2">Patient has regular fever every month of 39oC</td>
                  <td class="td-grey p-2">Dr Ali Hussein</td>
                  <td class="td-grey p-2">1 Jan 2021</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
// @ is an alias to /src
import moment from "moment";
import VueJsonPretty from "vue-json-pretty";

export default {
  name: "patients",
  components: {
    VueJsonPretty,
  },
  props: ["history", "users"],
  data() {
    return {
      patientId: "",
      patient_history: {},
    };
  },
  methods: {
    getDate(history) {
      let date = "";
      if (history.created_at) {
        date = moment
          .unix(history.created_at._seconds)
          .format("Do MMMM YYYY hh:mm:ss a");
      }
      return date;
    },
    getCollectedUser(userId) {
      let user = this.users.find((user) => user.uid == userId);
      if (user) {
        return user.name;
      }
    },
  },
  created() {},

  mounted() {},
};
</script>

<style lang="scss">
.patient-overview {
  .patient-history {
    .timeline-wrapper {
      margin-left: 25px;
      .timeline-border {
        position: absolute;
        border-left: 1.5px solid #01579b;
        height: 115px;
        left: -20px;
        top: 40px;
      }
      .icon-wrapper {
        top: 30px;
        left: -30px;
      }
      .timeline-data {
        .title {
          margin-bottom: 0;
        }
      }
    }
  }
}
.patient-summary {
    .card {
    //   border-color: red;
    border: 1px solid #7299c1;
    border-radius: 0;
    th {font-size: 20px;}
    }
    .custom-title {
        font-size: 20px;
        padding: 0.75rem;
        margin-bottom: 0;
    }
    .txt-red{color: #f72b34}
    .txt-grey{color: #00b0a6}
    table {
        td {padding: 0.1rem .75rem}
    }
    .add-note{ border-radius: 50%;}
    .td-grey {background: #e6e6e6;}
    .td-border-bottom {
        border: 4px solid white;
    }
}
</style>
